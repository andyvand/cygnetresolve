# TODO list

## Core library

 * Improve path ordering
    - use priority from DNS SRV
    - use weight from DNS SRV for randomized ordering
    - use rules from http://tools.ietf.org/html/rfc6724
    - use /etc/gai.conf
 * Support multiple concurrent queries per channel
 * Support reverse lookup
 * Improve socket API and happy eyeballs
    - support TCP application layer happy eyeballs
    - support UDP happy eyeballs
 * Add DNSSEC validation information
    - what about non-DNS protocols?
    - what about any, localhost or numeric addresses
 * Use -fvisibility=hidden and mark exported symbols explicitly

## Tools, wrappers, testing and compatibility

 * Improve `netresolve-libc` and extend `netresolve` accordingly
    - add support for other libc resolver functions
    - `getnameinfo()`, `gethostbyaddr()`
    - `getaddrinfo_a()`, `gai_suspend()`, `gai_error()` and `gai_cancel()`
 * Implement name service switch backend on top of netresolve
    - environment variables and/or a configuration file for defaults
 * Implement other network resolution APIs
    - POSIX resolver routines
    - libasyncns
    - getdns
 * Build a fake ares library to support DNS testing
 * A comprehensive dualstack test plan
    - DNS: AAAA wildcard search available, only global A record set
    - DNS: AAAA record not answered, A answered (and vice versa)
    - DNS: SRV not answered, A/AAAA answered
    - TCP: IPv6/SYN not answered, IPv4 SYN answered (and vice versa)
    - TCP: first IPv6/SYN not answered, second IPv6/SYN answered (the same for IPv4)
    - TCP: IPv6-only destination, first address not answered, next address works
    - TCP: first SYN answered, application layer failure, next address works
    - UDP: application layer failure, next address works
 * Implement wrappers over netresolve for notable event loops or event connectors
    - GLib main loop
    - libevent
    - libverto
    - Python PEP 3156
    - and more...

## Backends

 * Improve the DNS backend
    - add PTR support
    - add domain search support (while still prioritizing non-searched results)
    - consider MX/SSH/TLSA and other records; add DNS-only API for that
    - validation information
    - `ai_addrconfig`-like functionality
 * Implement a multicast DNS backend
    - nonblocking
 * Improve `nss` backend
    - support `gethostbyname4`
    - support non-gethostbyname functions
 * Improve `exec` backend
    - make sure it send all request attributes and accepts all response attributes
    - add tests
 * Implement `hostname` backend

## Portability

 * Support non-epoll platforms
    - by passing multiple file descriptors to application using `watch_fd()` calls
    - emulate timerfd file descriptors and/or pass a timeout to the application

## Documentation and non-development stuff

 * Website
 * Manpages
 * Provide fixes for glibc resolver
 * IETF notes, errata and drafts
